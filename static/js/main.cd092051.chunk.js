(this.webpackJsonpaudit=this.webpackJsonpaudit||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},564:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),r=n(11),c=n.n(r),o=(n(228),n(229),n(21)),i=n.n(o),l=n(9),d=n(30),u=n(26),j=n(19),b=n.n(j),p=n(613),h=n(605),m=n(606),f=n(607),O=n(610),x=n(608),v=n(611),g=n(5),Y=function(e){var t=e.props,n=e.openHandle,a=Object(s.useState)({reason:""}),r=Object(u.a)(a,2),c=r[0],o=r[1],j=function(){var e=Object(d.a)(i.a.mark((function e(){var s,a,r,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.pauseTime,a=c.reason,r={startTime:t.startTime,pauseTime:s,reason:a,session:t.id},console.log("pause",r),e.next=6,fetch("http://localhost:5000/interval",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 6:d=e.sent,console.log("fetch response",d),o((function(e){return Object(l.a)(Object(l.a)({},e),{},{reason:""})})),n(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)(p.a,{open:t.open,onClose:function(){j(!1)},fullWidth:!0,children:[Object(g.jsx)(h.a,{children:"Reason"}),Object(g.jsx)(m.a,{children:Object(g.jsx)(f.a,{children:"Why do you want to pause?"})}),Object(g.jsx)(O.a,{id:"filled-basic",variant:"filled",style:{margin:"20px"},value:t.reason,onChange:function(e){o((function(t){return Object(l.a)(Object(l.a)({},t),{},{reason:e.target.value})}))}}),Object(g.jsxs)(x.a,{children:[Object(g.jsx)(v.a,{onClick:j,color:"primary",children:"Relax"}),Object(g.jsx)(v.a,{onClick:j,color:"primary",autoFocus:!0,children:"Done"})]})]})})},T=n.p+"static/media/bell.fe6f84c7.mp3",k=function(){var e=new Audio(T),t=Object(s.useState)({running:!1,started:!1,time:{h:"0",m:"0",s:"10"},seconds:10,id:-1,open:!1,startTime:0,sessionId:-1,relax:!1}),n=Object(u.a)(t,2),a=n[0],r=n[1];Object(s.useEffect)((function(){var e=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/interval",{method:"GET"});case 2:return t=e.sent,n=0,e.next=6,t.json();case 6:e.sent.map((function(e){return n=n<e.session?e.session:n,e.session})),s=n+1,console.log("ssid",s),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{sessionId:s})}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var c=function(){r((function(t){return t.seconds<=2?e.play():e.pause(),Object(l.a)(Object(l.a)({},t),{},{time:o(t.seconds),seconds:0!==t.seconds?t.seconds-1:t.relax?10:5,relax:0===t.seconds^t.relax})}))},o=function(e){var t=Math.floor(e/3600);return e%=3600,{h:t,m:Math.floor(e/60),s:e%=60}},j=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.started){e.next=5;break}t=setInterval(c,1e3),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{started:!0,running:!0,id:t,startTime:b()().format("DD-MM-YYYY HH:mm:ss")})})),e.next=10;break;case 5:return e.next=7,fetch("http://localhost:5000/interval",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({startTime:a.startTime,pauseTime:b()().format("DD-MM-YYYY HH:mm:ss"),reason:"session completed",session:a.relax?b()().subtract(5-a.seconds,"seconds").format("DD-MM-YYYY HH:mm:ss"):a.sessionId})});case 7:e.sent,r((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!1,started:!1,seconds:10,time:o(10),sessionId:e.sessionId+1,relax:!1})})),clearInterval(a.id);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.running?(r((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!1,open:!0})})),clearInterval(a.id)):(t=setInterval(c,1e3),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!0,id:t,startTime:b()().format("DD-MM-YYYY HH:mm:ss")})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(Y,{props:{open:a.open,id:a.sessionId,pauseTime:b()().format("DD-MM-YYYY HH:mm:ss"),startTime:a.startTime},openHandle:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{open:e})}))}}),Object(g.jsx)("div",{className:"timer-glow",children:Object(g.jsxs)("div",{className:"timer",children:[Object(g.jsx)("h2",{children:a.relax?"Relax...":"Focus..."}),Object(g.jsxs)("h2",{children:[a.time.h,"h"," ",a.time.m,"m"," ",a.time.s," ","s"]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[a.started&&Object(g.jsx)("button",{className:"secondary-btn",onClick:p,children:a.running?"PAUSE":"RESUME"}),Object(g.jsx)("button",{className:"btn",onClick:j,children:a.started?"STOP":"START"})]})]})})]})},w=n(115),M=function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("header",{className:"header",children:[Object(g.jsx)("div",{id:"header-item1",className:"header-item",children:Object(g.jsx)("h5",{children:"SA"})}),Object(g.jsx)("div",{className:"header-item",children:Object(g.jsx)("h3",{children:"AUDIT"})}),Object(g.jsxs)("div",{id:"header-item2",className:"header-item",children:[Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(w.a,{})}),Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(w.b,{})}),Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(w.c,{})})]})]})})},y=n(20),H=n(213),D=n(23);n(234);D.d.register(D.m,D.c,D.g,D.l),D.d.register.apply(D.d,Object(y.a)(D.n));var C=function(){var e=Object(s.useState)({pauseResponse:[],startResponse:[],intervals:[],average:0,chartdata:{type:"bar",data:{labels:["1","2","3","4","5"],datasets:[{label:"Time in seconds",data:[65,59,80,81,56],backgroundColor:["#50AF95","#f3ba2f","#50AF95","#f3ba2f","#50AF95"]}]},options:{plugins:{title:{display:!0,text:"Time spent [Hour]"},legend:{display:!0,position:"bottom"}}}}}),t=Object(u.a)(e,2),n=t[0],a=t[1];Object(s.useEffect)((function(){var e=function(){var e=Object(d.a)(i.a.mark((function e(){var t,n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/interval",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s=0,n.map((function(e){var t=b()(e.pauseTime,"DD-MM-YYYY HH:mm:ss"),n=b()(e.startTime,"DD-MM-YYYY HH:mm:ss");return s+=t.diff(n,"seconds"),0})),c=(s/n.length).toFixed(2),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{pauseResponse:n.pauseTime,startResponse:n.startTime,average:c,intervals:n})})),r(n),console.log("average session length: ",c);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var r=function(){var e=Object(d.a)(i.a.mark((function e(t){var n,s,a,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=1;s<10;s++)n.push("0"+s+":00:00");for(a=10;a<24;a++)n.push(a+":00:00");for(r=[],o=function(e){var s=t.filter((function(t){return b()(t.startTime,"DD-MM-YYYY HH:mm:ss").hour()<b()(n[e+1],"HH:mm:ss").hour()&&b()(t.startTime,"DD-MM-YYYY HH:mm:ss").hour()>=b()(n[e],"HH:mm:ss").hour()})),a=0;s.map((function(e){var t=Math.min(3600*(b()(e.startTime,"DD-MM-YYYY HH:mm:ss").hour()+1),3600*b()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").hour()+60*b()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").minute()+b()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").seconds()),n=3600*b()(e.startTime,"DD-MM-YYYY HH:mm:ss").hour()+60*b()(e.startTime,"DD-MM-YYYY HH:mm:ss").minute()+b()(e.startTime,"DD-MM-YYYY HH:mm:ss").seconds();return a+=t-n,0})),r.push(a)},l=0;l<23;l++)o(l);console.log("testIntervals",r),c({labels:n,data:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t=e.labels,n=e.data,s=["#50AF95","#f3ba2f"],r=[t.map((function(e,t){return s[t%2]}))];console.log("bgcolor",r),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{chartdata:Object(l.a)(Object(l.a)({},e.chartdata),{},{data:Object(l.a)(Object(l.a)({},e.chartdata.data),{},{labels:t,datasets:[{label:"Time in seconds",data:n,backgroundColor:r[0]}]})})})}))};return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{children:"Stats"}),Object(g.jsxs)("div",{className:"box-items",children:[Object(g.jsx)("p",{children:"Average Session Time"}),Object(g.jsx)("p",{children:n.average})]}),Object(g.jsxs)("div",{className:"box-items",children:[Object(g.jsx)("p",{children:"Number of sessions"}),Object(g.jsx)("p",{children:n.intervals.length})]}),Object(g.jsx)("div",{children:Object(g.jsx)(H.a,{data:n.chartdata.data,options:n.chartdata.options})})]})})},N=n(609),I=function(e){var t,n=(t={primaryColor:"#222831",secondaryColor:"#393e46",highlightColor:"#00adb5",brightColor:"#c4c4c4a5"},Object(N.a)((function(e){return{root:{"& .MuiFilledInput-root":{background:t.primaryColor,color:t.brightColor,borderColor:t.brightColor},"& .MuiInput-root":{color:t.brightColor,borderColor:t.brightColor}},cssLabel:{color:t.brightColor,"&.Mui-focused":{color:t.secondaryColor}},cssOutlinedInput:{borderColor:t.brightColor,"&:not(hover):not($disabled):not($cssFocused) $notchedOutline":{borderColor:t.brightColor},"&:hover:not($disabled):not($cssFocused) $notchedOutline":{borderColor:t.brightColor},"&$cssFocused $notchedOutline":{borderColor:t.brightColor}},cssInputLabel:{color:t.brightColor},notchedOutline:{},cssFocused:{color:t.brightColor,borderColor:t.brightColor},disabled:{}}})))();return Object(g.jsx)("div",{children:Object(g.jsx)(O.a,{className:n.root,id:"standard-basic",label:e.label,value:e.value,variant:"standard",fullWidth:!0,style:{width:"200%"},InputLabelProps:{classes:{root:n.cssLabel,focused:n.cssFocused}},InputProps:{classes:{root:n.cssOutlinedInput,focused:n.cssFocused},inputMode:"numeric"},onChange:function(t){e.textHandler(t.target.value)}})})},S=n(210),F=n.n(S),E=function(e){return Object(g.jsx)(F.a,{onChange:function(t){e.dateHandler(t)},value:e.value})},A=n(211),P=n.n(A),R=function(){var e=Object(s.useState)({newTask:{title:"",description:"",deadline:""},tasks:[],opened:-1}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submitting..."),e.next=3,fetch("http://localhost:5000/tasks",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:n.newTask.title,description:n.newTask.description,deadline:b()(n.newTask.deadline,"dddd MM-DD-YYYY HH:mm:ss a").format("DD-MM-y HH:mm")})});case 3:return t=e.sent,e.next=6,t.json();case 6:s=e.sent,console.log("data",s),a((function(e){return console.log(Object(l.a)(Object(l.a)({},e),{},{newTask:{title:"",description:"",deadline:""},tasks:[].concat(Object(y.a)(e.tasks),[s])})),Object(l.a)(Object(l.a)({},e),{},{newTask:{title:"",description:"",deadline:""},tasks:[].concat(Object(y.a)(e.tasks),[s])})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/tasks/".concat(t),{method:"DELETE"});case 2:200===e.sent.status?a((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t}))})})):alert("Error deleting tasks");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(){var e=Object(d.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("box-lists-wrapper"+(1===n.opened?"-opened":"")),e.next=3,fetch("http://localhost:5000/tasks",{method:"GET"});case 3:return t=e.sent,e.next=6,t.json();case 6:return s=e.sent,console.log("data:",s),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:s})})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{children:"Tasks"}),Object(g.jsxs)("div",{className:"box-lists",children:[Object(g.jsxs)("div",{className:"box-lists-form",children:[Object(g.jsx)("div",{className:"box-lists-form-wrapper",children:Object(g.jsx)(I,{label:"Title",textHandler:function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{title:e})})}))},value:n.newTask.title},1)}),Object(g.jsx)("div",{className:"box-lists-form-wrapper",children:Object(g.jsx)(I,{label:"Description",textHandler:function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{description:e})})}))},value:n.newTask.description},2)}),Object(g.jsxs)("div",{className:"box-lists-form-wrapper",children:[Object(g.jsx)(E,{value:n.newTask.deadline,dateHandler:function(e){console.log("state.newTask.deadline",n.newTask.deadline,"value",e),a((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{deadline:e})})}))}}),Object(g.jsx)(v.a,{variant:"contained",onClick:r,children:"Submit"})]})]}),n.tasks.map((function(e,t){return Object(g.jsxs)("div",{className:"box-lists-wrapper"+(e.id===n.opened?"-opened":""),onDoubleClick:function(){a((function(t){return Object(l.a)(Object(l.a)({},t),{},{opened:t.opened!==e.id?e.id:-1})}))},children:[Object(g.jsxs)("div",{className:"box-lists-wrapper-content",children:[Object(g.jsx)("h4",{children:e.title}),Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{style:{display:"inline-block"},children:b()(e.deadline,"DD-MM-YYYY HH:mm:ss").fromNow()}),Object(g.jsx)(P.a,{onClick:function(t){c(e.id)},style:{display:"inline-block"}})]})]}),n.opened===e.id&&Object(g.jsxs)("div",{className:"box-lists-wrapper-content",children:[" ",e.description]})]},t)}))]})]})})},$=n(214),L=n(212),G=(n(203),function(){var e=Object(s.useState)({tasks:[],events:[]}),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(d.a)(i.a.mark((function e(){var t,s,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:5000/tasks",{method:"GET"});case 2:return t=e.sent,e.next=5,t.json();case 5:return s=e.sent,r=[],console.log("data",s),s.map((function(e){return r.push({title:e.title,date:new Date(b()(e.deadline,"DD-MM-y HH:mm").format("ddd MMMM DD yy hh:mm:ss a"))}),e})),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:s,events:r})})),console.log("event",r),e.abrupt("return",n.tasks);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{style:{height:"60vh",width:"100%",display:"flex",justifyContent:"center"},children:Object(g.jsx)($.a,{initialView:"timeGridWeek",plugins:[L.a],events:n.events})})})});var J=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(M,{}),Object(g.jsxs)("div",{className:"page",children:[Object(g.jsx)(C,{}),Object(g.jsx)(k,{})]}),Object(g.jsx)("div",{className:"page",children:Object(g.jsx)(R,{})}),Object(g.jsx)("div",{className:"page",children:Object(g.jsx)(G,{})})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,615)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(J,{})}),document.getElementById("root")),W()}},[[564,1,2]]]);
//# sourceMappingURL=main.cd092051.chunk.js.map