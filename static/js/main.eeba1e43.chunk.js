(this.webpackJsonpaudit=this.webpackJsonpaudit||[]).push([[0],{228:function(e,t,n){},229:function(e,t,n){},564:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),a=n(11),c=n.n(a),i=(n(228),n(229),n(16)),o=n.n(i),l=n(9),u=n(29),d=n(26),b=n(20),j=n.n(b),p=n(613),h=n(605),m=n(606),f=n(607),O=n(610),x=n(608),v=n(611),g=n(5),Y=function(e){var t=e.props,n=e.openHandle,r=Object(s.useState)({reason:""}),a=Object(d.a)(r,2),c=a[0],i=a[1],b=function(){var e=Object(u.a)(o.a.mark((function e(){var s,r,a,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.pauseTime,r=c.reason,a={startTime:t.startTime,pauseTime:s,reason:r,session:t.id},console.log("pause",a),e.next=6,fetch("http://localhost:5000/interval",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)});case 6:u=e.sent,console.log("fetch response",u),i((function(e){return Object(l.a)(Object(l.a)({},e),{},{reason:""})})),n(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{children:Object(g.jsxs)(p.a,{open:t.open,onClose:function(){b(!1)},fullWidth:!0,children:[Object(g.jsx)(h.a,{children:"Reason"}),Object(g.jsx)(m.a,{children:Object(g.jsx)(f.a,{children:"Why do you want to pause?"})}),Object(g.jsx)(O.a,{id:"filled-basic",variant:"filled",style:{margin:"20px"},value:t.reason,onChange:function(e){i((function(t){return Object(l.a)(Object(l.a)({},t),{},{reason:e.target.value})}))}}),Object(g.jsxs)(x.a,{children:[Object(g.jsx)(v.a,{onClick:b,color:"primary",children:"Relax"}),Object(g.jsx)(v.a,{onClick:b,color:"primary",autoFocus:!0,children:"Done"})]})]})})},k=n.p+"static/media/bell.fe6f84c7.mp3";function T(e,t){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(o.a.mark((function e(t,n){var s,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=localStorage.getItem("".concat(t)),e.next=3,JSON.parse(s);case 3:if(r=e.sent,a=1,r.map((function(e){a=Math.max(e.id+1,a)})),"GET"!==n.method){e.next=10;break}return e.abrupt("return",new Promise((function(e,t){try{e(r)}catch(n){t(n)}})));case 10:if("POST"!==n.method){e.next=17;break}return n.body=JSON.parse(n.body),r.push(n.body),localStorage.setItem("".concat(t),JSON.stringify(r)),e.abrupt("return",r);case 17:if("DELETE"!==n.method){e.next=23;break}return r=r.filter((function(e){return e.id!==n.id})),localStorage.setItem("".concat(t),JSON.stringify(r)),e.abrupt("return",{status:200});case 23:return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){var e=new Audio(k),t=Object(s.useState)({running:!1,started:!1,time:{h:"0",m:"0",s:"10"},seconds:10,id:-1,open:!1,startTime:0,sessionId:1,relax:!1}),n=Object(d.a)(t,2),r=n[0],a=n[1];Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("interval",{method:"GET"});case 2:if(t=e.sent,n=0,t&&0!==t.length){e.next=6;break}return e.abrupt("return",null);case 6:t.map((function(e){return n=n<e.session?e.session:n,e.session})),s=n+1,console.log("ssid",s),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{sessionId:s})}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var c=function(){a((function(t){return t.seconds<=2?e.play():e.pause(),Object(l.a)(Object(l.a)({},t),{},{time:i(t.seconds),seconds:0!==t.seconds?t.seconds-1:t.relax?10:5,relax:0===t.seconds^t.relax})}))},i=function(e){var t=Math.floor(e/3600);return e%=3600,{h:t,m:Math.floor(e/60),s:e%=60}},b=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.started){e.next=5;break}t=setInterval(c,1e3),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{started:!0,running:!0,id:t,startTime:j()().format("DD-MM-YYYY HH:mm:ss")})})),e.next=12;break;case 5:return e.next=7,T("interval",{method:"id"});case 7:return n=e.sent,e.next=10,T("interval",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({startTime:r.startTime,pauseTime:j()().format("DD-MM-YYYY HH:mm:ss"),reason:"session completed",session:r.relax?j()().subtract(5-r.seconds,"seconds").format("DD-MM-YYYY HH:mm:ss"):r.sessionId,id:n})});case 10:a((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!1,started:!1,seconds:10,time:i(10),sessionId:e.sessionId+1,relax:!1})})),clearInterval(r.id);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.running?(a((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!1,open:!0})})),clearInterval(r.id)):(t=setInterval(c,1e3),a((function(e){return Object(l.a)(Object(l.a)({},e),{},{running:!0,id:t,startTime:j()().format("DD-MM-YYYY HH:mm:ss")})})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(Y,{props:{open:r.open,id:r.sessionId,pauseTime:j()().format("DD-MM-YYYY HH:mm:ss"),startTime:r.startTime},openHandle:function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},{open:e})}))}}),Object(g.jsx)("div",{className:"timer-glow",children:Object(g.jsxs)("div",{className:"timer",children:[Object(g.jsx)("h2",{children:r.relax?"Relax...":"Focus..."}),Object(g.jsxs)("h2",{children:[r.time.h,"h"," ",r.time.m,"m"," ",r.time.s," ","s"]}),Object(g.jsxs)("div",{style:{display:"flex"},children:[r.started&&Object(g.jsx)("button",{className:"secondary-btn",onClick:p,children:r.running?"PAUSE":"RESUME"}),Object(g.jsx)("button",{className:"btn",onClick:b,children:r.started?"STOP":"START"})]})]})})]})},M=n(115),H=function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("header",{className:"header",children:[Object(g.jsx)("div",{id:"header-item1",className:"header-item",children:Object(g.jsx)("h5",{children:"SA"})}),Object(g.jsx)("div",{className:"header-item",children:Object(g.jsx)("h3",{children:"AUDIT"})}),Object(g.jsxs)("div",{id:"header-item2",className:"header-item",children:[Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(M.a,{})}),Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(M.b,{})}),Object(g.jsx)("div",{style:{padding:"10px"},children:Object(g.jsx)(M.c,{})})]})]})})},D=n(21),C=n(213),N=n(23);n(234);N.d.register(N.m,N.c,N.g,N.l),N.d.register.apply(N.d,Object(D.a)(N.n));var S=function(){var e=Object(s.useState)({pauseResponse:[],startResponse:[],intervals:[],average:0,chartdata:{type:"bar",data:{labels:["1","2","3","4","5"],datasets:[{label:"Time in seconds",data:[65,59,80,81,56],backgroundColor:["#50AF95","#f3ba2f","#50AF95","#f3ba2f","#50AF95"]}]},options:{plugins:{title:{display:!0,text:"Time spent [Hour]"},legend:{display:!0,position:"bottom"}}}}}),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("interval",{method:"GET"});case 2:if((t=e.sent)&&0!==t.length){e.next=5;break}return e.abrupt("return",null);case 5:n=0,t.map((function(e){var t=j()(e.pauseTime,"DD-MM-YYYY HH:mm:ss"),s=j()(e.startTime,"DD-MM-YYYY HH:mm:ss");return n+=t.diff(s,"seconds"),0})),s=(n/t.length).toFixed(2),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{pauseResponse:t.pauseTime,startResponse:t.startTime,average:s,intervals:t})})),a(t),console.log("average session length: ",s);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var a=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,s,r,a,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],s=1;s<10;s++)n.push("0"+s+":00:00");for(r=10;r<24;r++)n.push(r+":00:00");for(a=[],i=function(e){var s=t.filter((function(t){return j()(t.startTime,"DD-MM-YYYY HH:mm:ss").hour()<j()(n[e+1],"HH:mm:ss").hour()&&j()(t.startTime,"DD-MM-YYYY HH:mm:ss").hour()>=j()(n[e],"HH:mm:ss").hour()})),r=0;s.map((function(e){var t=Math.min(3600*(j()(e.startTime,"DD-MM-YYYY HH:mm:ss").hour()+1),3600*j()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").hour()+60*j()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").minute()+j()(e.pauseTime,"DD-MM-YYYY HH:mm:ss").seconds())-(3600*j()(e.startTime,"DD-MM-YYYY HH:mm:ss").hour()+60*j()(e.startTime,"DD-MM-YYYY HH:mm:ss").minute()+j()(e.startTime,"DD-MM-YYYY HH:mm:ss").seconds());return r+=Math.log10(1+t),0})),a.push(r)},l=0;t.length>0&&l<23;l++)i(l);c({labels:n,data:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){var t=e.labels,n=e.data,s=["#50AF95","#f3ba2f"],a=[t.map((function(e,t){return s[t%2]}))];r((function(e){return Object(l.a)(Object(l.a)({},e),{},{chartdata:Object(l.a)(Object(l.a)({},e.chartdata),{},{data:Object(l.a)(Object(l.a)({},e.chartdata.data),{},{labels:t,datasets:[{label:"Time in log (seconds)",data:n,backgroundColor:a[0]}]})})})}))};return Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{children:"Stats"}),Object(g.jsxs)("div",{className:"box-items",children:[Object(g.jsx)("p",{children:"Average Session Time"}),Object(g.jsx)("p",{children:n.average})]}),Object(g.jsxs)("div",{className:"box-items",children:[Object(g.jsx)("p",{children:"Number of sessions"}),Object(g.jsx)("p",{children:n.intervals.length})]}),Object(g.jsx)("div",{children:Object(g.jsx)(C.a,{data:n.chartdata.data,options:n.chartdata.options})})]})})},I=n(609),E=function(e){var t,n=(t={primaryColor:"#222831",secondaryColor:"#393e46",highlightColor:"#00adb5",brightColor:"#c4c4c4a5"},Object(I.a)((function(e){return{root:{"& .MuiFilledInput-root":{background:t.primaryColor,color:t.brightColor,borderColor:t.brightColor},"& .MuiInput-root":{color:t.brightColor,borderColor:t.brightColor}},cssLabel:{color:t.brightColor,"&.Mui-focused":{color:t.secondaryColor}},cssOutlinedInput:{borderColor:t.brightColor,"&:not(hover):not($disabled):not($cssFocused) $notchedOutline":{borderColor:t.brightColor},"&:hover:not($disabled):not($cssFocused) $notchedOutline":{borderColor:t.brightColor},"&$cssFocused $notchedOutline":{borderColor:t.brightColor}},cssInputLabel:{color:t.brightColor},notchedOutline:{},cssFocused:{color:t.brightColor,borderColor:t.brightColor},disabled:{}}})))();return Object(g.jsx)("div",{children:Object(g.jsx)(O.a,{className:n.root,id:"standard-basic",label:e.label,value:e.value,variant:"standard",fullWidth:!0,style:{width:"200%"},InputLabelProps:{classes:{root:n.cssLabel,focused:n.cssFocused}},InputProps:{classes:{root:n.cssOutlinedInput,focused:n.cssFocused},inputMode:"numeric"},onChange:function(t){e.textHandler(t.target.value)}})})},F=n(210),A=n.n(F),P=function(e){return Object(g.jsx)(A.a,{onChange:function(t){e.dateHandler(t)},value:e.value})},J=n(211),R=n.n(J),L=function(){var e=Object(s.useState)({newTask:{title:"",description:"",deadline:""},tasks:[],opened:-1}),t=Object(d.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(u.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("submitting..."),e.next=3,T("tasks",{method:"id"});case 3:return t=e.sent,console.log("taskid",t),e.next=7,T("tasks",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({title:n.newTask.title,description:n.newTask.description,deadline:j()(n.newTask.deadline,"dddd MM-DD-YYYY HH:mm:ss a").format("DD-MM-y HH:mm"),id:t})});case 7:s=e.sent,r((function(e){return Object(l.a)(Object(l.a)({},e),{},{newTask:{title:"",description:"",deadline:""},tasks:[].concat(Object(D.a)(e.tasks),[s[s.length-1]])})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("tasks",{method:"DELETE",id:t});case 2:200===e.sent.status?r((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:e.tasks.filter((function(e){return e.id!==t}))})})):alert("Error deleting tasks");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("box-lists-wrapper"+(1===n.opened?"-opened":"")),e.next=3,T("tasks",{method:"GET"});case 3:return t=e.sent,console.log("data:",t),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:t})})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"box",children:[Object(g.jsx)("h1",{children:"Tasks"}),Object(g.jsxs)("div",{className:"box-lists",children:[Object(g.jsxs)("div",{className:"box-lists-form",children:[Object(g.jsx)("div",{className:"box-lists-form-wrapper",children:Object(g.jsx)(E,{label:"Title",textHandler:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{title:e})})}))},value:n.newTask.title},1)}),Object(g.jsx)("div",{className:"box-lists-form-wrapper",children:Object(g.jsx)(E,{label:"Description",textHandler:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{description:e})})}))},value:n.newTask.description},2)}),Object(g.jsxs)("div",{className:"box-lists-form-wrapper",children:[Object(g.jsx)(P,{value:n.newTask.deadline,dateHandler:function(e){console.log("state.newTask.deadline",n.newTask.deadline,"value",e),r((function(t){return Object(l.a)(Object(l.a)({},t),{},{newTask:Object(l.a)(Object(l.a)({},t.newTask),{},{deadline:e})})}))}}),Object(g.jsx)(v.a,{variant:"contained",onClick:a,children:"Submit"})]})]}),n.tasks&&n.tasks.map((function(e,t){return Object(g.jsxs)("div",{className:"box-lists-wrapper"+(e.id===n.opened?"-opened":""),onDoubleClick:function(){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{opened:t.opened!==e.id?e.id:-1})}))},children:[Object(g.jsxs)("div",{className:"box-lists-wrapper-content",children:[Object(g.jsx)("h4",{children:e.title}),Object(g.jsxs)("div",{children:[Object(g.jsx)("p",{style:{display:"inline-block"},children:j()(e.deadline,"DD-MM-YYYY HH:mm:ss").fromNow()}),Object(g.jsx)(R.a,{onClick:function(t){c(e.id)},style:{display:"inline-block"}})]})]}),n.opened===e.id&&Object(g.jsxs)("div",{className:"box-lists-wrapper-content",children:[" ",e.description]})]},t)}))]})]})})},$=n(214),G=n(212),W=(n(203),function(){var e=Object(s.useState)({tasks:[],events:[]}),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("tasks",{method:"GET"});case 2:if(t=e.sent,s=[],console.log("data",t),t&&0!=t.length){e.next=7;break}return e.abrupt("return",null);case 7:return t.map((function(e){return s.push({title:e.title,date:new Date(j()(e.deadline,"DD-MM-y HH:mm").format("ddd MMMM DD yy hh:mm:ss a"))}),e})),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{tasks:t,events:s})})),console.log("event",s),e.abrupt("return",n.tasks);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{style:{height:"60vh",width:"100%",display:"flex",justifyContent:"center"},children:Object(g.jsx)($.a,{initialView:"timeGridWeek",plugins:[G.a],events:n.events})})})});var U=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"page",children:[Object(g.jsx)(S,{}),Object(g.jsx)(w,{})]}),Object(g.jsx)("div",{className:"page",children:Object(g.jsx)(L,{})}),Object(g.jsx)("div",{className:"page",children:Object(g.jsx)(W,{})})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,615)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),r(e),a(e),c(e)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(U,{})}),document.getElementById("root")),B()}},[[564,1,2]]]);
//# sourceMappingURL=main.eeba1e43.chunk.js.map